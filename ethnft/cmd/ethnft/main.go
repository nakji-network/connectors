// Code generated by connectorgen - Edit as necessary.

package main

import (
	"context"

	"github.com/nakji-network/connector"
	"github.com/nakji-network/connectors/ethnft"
	"github.com/nakji-network/connectors/ethnft/erc1155"
	"github.com/nakji-network/connectors/ethnft/erc721"

	"github.com/rs/zerolog/log"
	_ "go.uber.org/automaxprocs"
)

func main() {
	c, err := connector.NewConnector()
	if err != nil {
		log.Fatal().Err(err).Msg("failed to instantiate connector")
	}

	connector := ethnft.NewConnector(
		c,
	)

	// Register topic and protobuf type mappings
	c.RegisterProtos(
		&erc1155.ApprovalForAll{},
		&erc1155.TransferBatch{},
		&erc1155.TransferSingle{},
		&erc1155.URI{},
		&erc721.ApprovalForAll{},
		&erc721.Approval{},
		&erc721.Transfer{},
	)

	connector.Start(context.Background()) //, c.Config.GetUint64("nft.backfillNumBlocks"))
}
